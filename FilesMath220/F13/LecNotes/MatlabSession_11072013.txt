%% commands from the MATLAB session in Lecture 24 on Thursday,
%% November 7, 2013.

%% To illustrate row reduction, we used Problem 5 from Page 157 of the
%% book, which was solved in Lecture 23. In this problem, 3-vectors
%% b1, b2, and x are given, and we are asked to the B-coordinates of x
%% in the basis B = {b1,b2}.

%% You should check out some of the MATLAB tutorials listed in the
%% Computer Project description.

%% We can use the % sign to add comments - MATLAB ignores anything
%% written in a line following a % sign. Extra comments are added in
%% between the MATLAB commands here to illustrate.


>> b1 = [1
 4
-3]
b1 =
     1
     4
    -3

% A ' (prime) transposes a matrix or a vector when added to its
% end. Also, if you do not want MATLAB to display the output of a
% command, end the same with a ; (semi-colon).

>> b2 = [-2 -7 5]';

>> x = [2 9 -7]';
>> AugMtx = [b1 b2 x]
AugMtx =
     1    -2     2
     4    -7     9
    -3     5    -7

% Error messages in MATLAB - usually point out where the source of
% error is. Or, at least tell you from where things go wrong.

>> AugMtx = [b1 b2 x'] 
??? Error using ==> horzcat CAT
arguments dimensions are not consistent.

% In the above command, x' is 1 x 3, while b1 and b2 are both 
% 3 x 1. Hence the dimensions do not match.

>> AugMtx = [b1 b2 x];

>> rref(AugMtx)
ans =
     1     0     4
     0     1     1
     0     0     0

>> help rref
 RREF   Reduced row echelon form.
    R = RREF(A) produces the reduced row echelon form of A.

    [R,jb] = RREF(A) also returns a vector, jb, so that:
        r = length(jb) is this algorithm's idea of the rank of A,
        x(jb) are the bound variables in a linear system, Ax = b,
        A(:,jb) is a basis for the range of A,
        R(1:r,jb) is the r-by-r identity matrix.

    [R,jb] = RREF(A,TOL) uses the given tolerance in the rank tests.

    Roundoff errors may cause this algorithm to compute a different
    value for the rank than RANK, ORTH and NULL.

    Class support for input A:
       float: double, single

    See also RANK, ORTH, NULL, QR, SVD.


% You could ask MATLAB to print rational numbers rather than decimal
% numbers. Here is an example.

>> rref([b1 b2 x/3])
ans =
    1.0000         0    1.3333
         0    1.0000    0.3333
         0         0         0

>> format rat

>> rref([b1 b2 x/3])
ans =
       1              0              4/3
       0              1              1/3
       0              0              0


% Following are the two determinant calculations we did class by
% hand. As illustrated here, you could verify any determinant
% calculations you are doing in the homework using MATLAB!

>> det([0 5 1; 4 -3 0; 2 4 1])
ans =
       2
>> det([1 -2 5 2; 0 0 3 0; 2 -6 -7 5; 5 0 4 4])
ans =
      -6
